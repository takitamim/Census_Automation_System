<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        .navbar-nav .nav-link {
            font-size: 1.2rem;
            /* Increase the font size */
            padding: 1rem 1.2rem;
            /* Increase the padding */
        }
        
        .circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8f9fa;
            border: 2px solid #007bff;
            margin: 10px auto;
            text-align: center;
        }
        
        .circle h5 {
            margin: 0;
        }
        
        .circle span {
            display: block;
            font-size: 1.5rem;
            color: #e84880;
        }
    </style>
    <title>Census Automation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <!--Start fropm here with Navbar-->
    <nav class="navbar bg-dark navbar-expand-lg bg-body-tertiary" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="/static/images/bangladesh.jpg" alt="Logo" width="30" height="24" class="d-inline-block align-text-top"> Population Census 2k24
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    
                    {% if user.is_authenticated %}
                    <li class='nav-item'>
                      <form method="POST" action="{% url 'logOut' %}" style="display: inline;">
                      {% csrf_token %}
                      <a class="nav-link" href="{% url 'logOut' %}">Log-Out</a>
                      </button>
                      </form>
                    </li>
                  {% else %}
                      <li class="nav-item">
                        <a class="nav-link" href="{% url 'logIn' %}">Log In</a></li>
                      <li class="nav-item">
                        <a class="nav-link" href="{% url 'signUp' %}">Sign Up</a></li>
                  {% endif %}
      
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'aboutUs' %}">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'faqs' %}">FAQs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'contact' %}">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'help' %}">Help</a>
                    </li>
                </ul>


            </div>
        </div>
    </nav>


    <!--Add carousel-->
    <div id="carouselExampleCaptions" class="carousel slide">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="/static/images/Car1.jpg" width="500px" height="660px" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Participate in Census - 2k24</h5>
                    <p>First ever automated census is going on in the history of Bangladesh</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="/static/images/Car2.jpg" width="500px" height="660px" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Verify Citizenship</h5>
                    <p>Verify your current data to get the authority an absolute scenario</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="/static/images/Car4.jpg" width="500px" height="660px" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Contribute for country</h5>
                    <p>Break the deadlock and make Bangladesh a south-asian super-power</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
    </div>

    <!--For Introduction-->
    <div class="card">
        <div class="card-header mt-5 bg-info">
            Introduction
        </div>
        <div class="card-body">
            <blockquote class="blockquote mb-0">
                <p>Welcome to the 2024 Census Automation Website! The 2024 Census is a crucial initiative to accurately count every resident, ensuring fair representation and allocation of resources for our communities. This website streamlines the census
                    process, allowing you to easily and securely submit your information online. Explore our user-friendly platform to find step-by-step guides, FAQs, and the latest updates to assist you in completing the census effortlessly. Your participation
                    is essential in shaping the future of our nation, impacting public services, infrastructure, and political representation. Make your voice heard and contribute to the success of the 2024 Census—submit your information today!</p>
                <footer class="blockquote-footer">Ministry of Planning, Peoples Republic of Bangladesh<cite title="Source Title"></cite></footer>
            </blockquote>
        </div>
    </div>

    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 21vh;">
        <div style="border: 4px solid #A07BFF; padding: 20px; border-radius: 10px; text-align: center;">
            <p style="font-size: 18px; margin-bottom: 5px; margin-top: 11px">
                Fill the form from here (Registration or Log-In Required):
            </p>
            <button id="redirectButton" style="padding: 10px 20px; font-size: 16px; cursor: pointer; background-color: #0317FF; color:WHITE; border: none; border-radius: 5px;">
                Go to Form
            </button>
            <p id="warningMessage" style="color: red; font-size: 16px; margin-top: 10px; display: none;">
                Register or Log-In first
            </p>
        </div>
    </div>
    
    <script>
        document.getElementById('redirectButton').addEventListener('click', function() {
            const isAuthenticated = {{ user.is_authenticated|yesno:"true,false" }};
            if (isAuthenticated) {
                window.location.href = "{% url 'censusPage' %}";
            } else {
                document.getElementById('warningMessage').style.display = 'block';
            }
        });
    </script>
    
    
   
    <!--Real-time update of census process-->
    <div class="container mt-5">
        <h1 class="text-center mb-4">Census 2024 Real-Time Status</h1>
        <div class="row text-center">
            <div class="col-md-4">
                <div class="circle">
                    <div>
                        <h5>Total Submissions</h5>
                        <span id="total-submissions">Loading...</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="circle">
                    <div>
                        <h5>Regions Covered</h5>
                        <span id="regions-covered">Loading...</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="circle">
                    <div>
                        <h5>Percentage Completed</h5>
                        <span id="percentage-completed">Loading...</span>%
                    </div>
                </div>
            </div>
        </div>
        <div class="row text-center mt-3">
            <div class="col-md-4 offset-md-2">
                <div class="circle">
                    <div>
                        <h5>Urban Submissions</h5>
                        <span id="urban-submissions">Loading...</span>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="circle">
                    <div>
                        <h5>Rural Submissions</h5>
                        <span id="rural-submissions">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Footer-->
    <div class="container mt-5">
        <footer class="py-3 my-4 bg-dark">
            <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                <li class="nav-item"><a href="#" class="nav-link px-2 text-light">Home</a></li>
                <li class="nav-item"><a href="{% url 'aboutUs' %}" class="nav-link px-2 text-light">About</a></li>
                <li class="nav-item"><a href="{% url 'faqs' %}" class="nav-link px-2 text-light">FAQs</a></li>
                <li class="nav-item"><a href="{% url 'contact' %}" class="nav-link px-2 text-light">Contact</a></li>
                <li class="nav-item"><a href="{% url 'help' %}" class="nav-link px-2 text-light">Help</a></li>
            </ul>
            <p class="text-center text-light">© 2024 Cencus, Bangladesh Bureau of Statistics (BBS)</p>
        </footer>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!--Real-time update of census process-->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        async function fetchCensusStatus() {
            try {
                const response = await axios.get('https://api.example.com/census-status');
                const data = response.data;

                document.getElementById('total-submissions').textContent = data.totalSubmissions;
                document.getElementById('regions-covered').textContent = data.regionsCovered;
                document.getElementById('percentage-completed').textContent = data.percentageCompleted;
                document.getElementById('urban-submissions').textContent = data.urbanSubmissions;
                document.getElementById('rural-submissions').textContent = data.ruralSubmissions;
            } catch (error) {
                console.error('Error fetching census status:', error);
            }
        }

        // Fetch census status on page load
        fetchCensusStatus();

        // Refresh data every 60 seconds
        setInterval(fetchCensusStatus, 60000);
    </script>
</body>

</html>